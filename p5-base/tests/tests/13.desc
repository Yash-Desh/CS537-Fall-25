Single-threaded bounded buffer test (no concurrency)


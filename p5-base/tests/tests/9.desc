Full synchronization test - checks correctness and detects violations


#!/bin/bash
echo "" && (test -f ./test_rw_tsan || (cd ../solution && make test_rw_tsan > /dev/null 2>&1)) && TSAN_OPTIONS="exitcode=0" ./test_rw_tsan 2>&1 | grep -E "(WARNING: ThreadSanitizer|data race|race on|ThreadSanitizer: reported)" && echo "TSan: RACE CONDITIONS DETECTED" || echo "TSan: No race conditions detected"

